# SealedSecret for Authentik
#
# To create this secret:
# 1. Create a regular secret with your values:
#    kubectl create secret generic authentik-secrets \
#      --from-literal=secret-key="$(openssl rand -base64 64)" \
#      --from-literal=db-password="your-secure-password" \
#      --namespace authentik \
#      --dry-run=client -o yaml > /tmp/authentik-secret.yaml
#
# 2. Seal it (requires sealed-secrets controller running):
#    kubeseal -f /tmp/authentik-secret.yaml -w k8s/apps/authentik-helm/manifests/sealed-secret.yaml
#
# 3. Commit the sealed secret to git (it's encrypted)
# 4. Delete the temp file: rm /tmp/authentik-secret.yaml
#
# The sealed secret will be automatically decrypted by the controller in your cluster
---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  name: authentik-secrets
  namespace: authentik
spec:
  encryptedData:
    secret-key: <ENCRYPTED_VALUE_HERE>
    db-password: <ENCRYPTED_VALUE_HERE>
  template:
    metadata:
      name: authentik-secrets
      namespace: authentik
